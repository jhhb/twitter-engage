$("#checkboxes").empty();

var htmlForCheckBoxes = "<%= escape_javascript(render partial: 'shared/keyword', collection: @keywords) %>"

$("#checkboxes").append(htmlForCheckBoxes);

var key = "<%= @key %>";

$("#key").data("key", key);

window.setInterval(function(){
    console.log(key);
    $.ajax({
        type: "GET",
        url: '/dashboards/get_tweets', //sumbits it to the given url of the form
        dataType: "script", // you want a difference between normal and ajax-calls, and json is standard
        data: {
            dashboard: {
                key: $("#key").data("key")
            }
        }
    })

}, 10000);

$("#checkboxes").on("mousedown", "input", function(event){

    var id = event.target.id;

    if($("#" + id).prop('checked')) {
        $("." + id).addClass('hidden');
    }
    else{
        $("." + id).removeClass('hidden');
    }

})
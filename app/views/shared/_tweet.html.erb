<div id="<%=tweet.tweet_id%>" class="row tweet hidden <%=tweet.topic%> " data-topic="<%=tweet.topic%>" style="margin-top:4px; margin-left: 1%; margin-right: 1%; width:100%;">
  <img style="padding:0px;" src="<%= tweet.user_profile_image_url %>" class="img-circle profilePic">
  <p>
    <span class="col-xs-1 col-xs-offset-2 tweetTime">time</span>
  </p>
  <p class="col-xs-10 col-xs-offset-2 text">
    <blockquote class="twitter-tweet">
      <p><%= tweet.text %> </p>
      <br/>
      - <%= tweet.user_name %> ( <%= link_to tweet.user_handle, "https://twitter.com/#{tweet.user_handle}" %> )
      <hr/>
      <a href="https://twitter.com/intent/tweet?in_reply_to=<%= tweet.tweet_id %>>" class="btn btn-standard">Reply</a>
      <a href="https://twitter.com/intent/retweet?tweet_id=<%= tweet.tweet_id %>" class="btn btn-standard" style="color:#17bf63">Retweet</a>
      <a href="https://twitter.com/intent/like?tweet_id=<%= tweet.tweet_id %>" class="btn btn-standard" style="color:#e0245e;">Like</a>
      <hr/>
      <button type="button" class="btn btn-success save" data-tweet-id="<%= tweet.tweet_id %>">Save</button>
      <button type="button" class="btn btn-danger discard" data-tweet-id="<%= tweet.tweet_id %>">Discard</button>

  <% if tweet.topic %>
    <h3 class="pull-right"><%= tweet.topic %></h3>

  <% end %>
    </blockquote>
  </p>
</div>

<script>

  initialize();

  function initialize(){
      initializeListeners();
  }

  function initializeListeners(){
      console.log("in initialize listeners");
      $(".tweet").on("click", ".discard", function(event) {
          console.log(this);
          console.log($(this));
          var idToRemove = $(this).data('tweet-id');
          $("#" + idToRemove).remove();
          console.log("will delete " + idToRemove + " from dashboard");
      });

      $(".tweet").on("click", ".save", function(event) {
          var idToPersist = $(this).data('tweet-id');
          console.log("will persist " + idToPersist + " to DB");
      });
  }

</script>